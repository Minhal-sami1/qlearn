{% extends 'top.html' %}

{% block title %}Students{% endblock %}


{% block content %}
<input style="margin: 20px; background: transparent; border: 2px solid #ccc;padding: 4px;border-radius: 5px;outline: 0;" type="text" id="search" placeholder="Search..." autocomplete="off">


<div class="card-body">
    <table id="example2" class="table table-bordered table-hover">
      <thead>
      <tr>
        <th>Name</th>
        <th>Contact</th>
        <th>Country</th>
        <th>City</th>
        <th>Join Date</th>
        <th>Fee</th>
        <th style="display: none;">Platform</th>
        <th style="display: none;">Languages</th>
        <th style="display: none;">Address</th>
        <th style="display: none;">Qualification</th>
        <th style="display: none;">Payment Details</th>
        <th style="display: none;">CNIC</th>
        <th style="display: none;">Birth Date</th>
        <th style="display: none;">Contact Nickname</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
        {% for student in students %}
      <tr>
        <td>{{student.name}}</td>
        <td>{{student.contact}}</td>
        <td>{{student.country}}</td>
        <td>{{student.city}}</td>
        <td>{{student.join_date}}</td>
        <td><b>{{student.currency}}</b> {{student.fee}} {% if student.isFeePaid %}<span class="badge badge-success">[Received]</span>{% else %}<span class="badge badge-danger">[Unreceived]</span>{% endif %}</td>
        <td style="display: none;">{{student.platform}}</td>
        <td style="display: none;">{{student.languages}}</td>
        <td style="display: none;">{{student.address}}</td>
        <td style="display: none;">{{student.qualification}}</td>
        <td style="display: none;">{{student.payment}}</td>
        <td style="display: none;">{{student.cnic_number}}</td>
        <th style="display: none;">{{student.birth_date}}</th>
        <th style="display: none;">{{student.contact_nickname}}</th>
        <td>
            <a href="/view/{{student.id}}" class="btn btn-primary btn-sm"><i class="fas fa-eye"></i></a>
            <a href="/edit/{{student.id}}" class="btn btn-success btn-sm"><i class="fas fa-edit"></i></a>
            {% if not student.isFeePaid %}
            <a href="/toggle_fee/{{student.id}}" class="btn btn-warning btn-sm"><i class="fas fa-inbox"></i> Mark Fee Received</a>
            {% else %}
            <a href="/toggle_fee/{{student.id}}" class="btn btn-secondary btn-sm"><i class="fas fa-inbox"></i> Mark Fee Unreceived</a>
            {% endif %}
        </td>
      </tr>
      {% endfor %}
      </tfoot>
    </table>
  </div>
{% endblock %}